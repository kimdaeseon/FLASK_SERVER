0. 프로젝트 주제

   현재 미세먼지는 존재하는 큰 환경문제 중 하나이다. 미세먼지 문제가 해결되기 위해선 정부의 정책이나 외교적 노력이 필요하기 때문에 쉽게 해결할 수 없는 문제이다. 이러한 미세먼지 문제에 대해서 개인이 할 수 있는 최고의 대처법은 미세먼지 농도가 높을 때 외출을 자제하거나 마스크를 착용하는 것이다. 이번 프로젝트를 통해서 외출을 하기 전 외출을 하는게 좋을지 마스크를 착용하는 것이 맞는지 알려주는 애플리케이션을 만들 것이다. 최종적인 목표는 미세먼지 문제에서 자신의 건강을 지키는 것이다.
   
1. 프로젝트 목표 및 내용

   A.   출발지와 도착지를 기준으로 외출을 권장하는지 하지 않는지 알 수 있다.

                i.     미세먼지 농도가 어느 정도일 때 외출을 자제해야 하는지 기준을 세운다.

   B.   출발지와 도착지를 기준으로 마스크 착용을 권장하는지 하지 않는지 알 수 있다.

                i.     미세먼지 농도가 어느 정도일 때 마스크를 착용해야 하는지 기준을 세운다.
                
2. 주제 선정 이유 또는 이프로젝트의 필요성

    A.   미세먼지의 위험성

    미세먼지는 여러 가지 복합한 성분을 가진 대기 중 부유 물질이다. 대부분 자동차의 배기가스, 도로 주행과정에서 발생하는 먼지에서 발생한다. 입자의 크기와 화학적 조성이 건강 영향을 결정한다. 미세먼지의 노출은 호흡기 및 심혈관계 질환의 발생과 관련이 있으며 사망률도 증가시키는 것으로 보고되고 있다. 특히, 크기가 10마이크로미터 이하의 작은 먼지 입자들은 폐와 혈중으로 유입될 수 있기 때문에 큰 위협이 된다.

    지름이 10마이크로미터보다 작고, 2.5마이크로미터보다 큰 입자를 미세먼지라고 부르며 주로 도로변이나 산업단지 등에서 발생한다. 지름이 2.5마이크로미터 이하의 입자는 초미세먼지라고 하며 담배 연기나 연료의 연소 시에 생성된다. 입자의 성분이 인체의 독성에 중요한 역할을 하는데, 주로 연소 입자인 탄소, 유기탄화수소, 질산염, 황산염, 유해금속 성분 등으로 구성되어 있다. 이들은 크기가 매우 작아서 코와 기도를 거쳐 기도 깊숙한 폐포에 도달할 수 있으며, 크기가 작을수록 폐포를 직접 통과해서 혈액을 통해 전신적인 순환을 할 수 있다.
  
    B. 미세먼지에 의한 증상

    급성 노출 시에는 기도의 자극으로 인한 기침과 호흡 곤란이 발생하며, 천식이 악화되고 부정맥이 발생한다. 만성 노출 시에는 폐기능이 감소하고 만성 기관지염이 증가하고 사망률을 높일 수 있다. 특히, 심장이나 폐질환자, 아이와 노인, 임산부는 미세먼지 노출에 의한 영향이 더 크며, 심지어 건강한 성인이어도 높은 농도에 노출되면 일시적으로 이런 증상들을 경험하게 된다.

    이러한 증상들은 주로 미세먼지에 의해 세기관지에 염증 반응이 유발됨으로써 발생한다. 또한 기도와 폐에서 박테리아를 불활성화하거나 제거하는 인체의 방어 작용을 방해함으로써 호흡기계 감염을 초래하게 한다. 미세먼지에 의한 심혈관질환의 발생은 산화스트레스 및 염증 반응, 그리고 자율신경계의 장애와 혈액 응고 능력의 변화와 관련 있는 것으로 보고되고 있다.
  
    C.   미세먼지 예방방법

    ①   미세먼지 농도가 높을 때에는 호흡기나 심혈관 질환자, 아이와 노인, 임산부는 외출을 자제해야 한다. 흡입되는 미세먼지는 활동의 강도와 기간에 비례하기 때문에 건강한 성인은 과격한 실외 활동을 최소화 하는것이 좋다.

    ②   대개 도로변이 미세먼지 농도가 더 높기 때문에 도로변에서 운동하지 않도록 한다.

    ③   실외 활동 시에 황사마스크를 착용하고, 불가피한 외출 후에는 코와 손을 잘 씻는 것이 좋다.

    ④   창문을 열어 두면 외부에서 유입된 미세먼지로 실내의 미세먼지 농도가 증가하기 때문에 창문을 닫아야 한다. 에어필터나 공기청정기가 도움이 될 수 있다.

    ⑤  실내에서 흡연을 하거나 촛불을 켜는 것은 미세먼지 농도를 높이는 것이므로 피해야 한다.


3. 데이터 획득

   A.   공공데이터 포탈, 한국환경공단 대기오염정보  
      https://data.go.kr/tcs/dss/selectApiDataDetailView.do?publicDataPk=15000581  
      
          1). 측정소명을 바탕으로 대기오염정보를 제공받는다.    
          2). 다양한 대기오염정보중에서 미세먼지 농도인 PM10, 초미세먼지 농도인 PM2.5를 추출하여 사용한다.             
   
   B.   공공데이터 포탈, 한국환경공단 측정소정보   
      https://data.go.kr/iim/api/selectAPIAcountView.do 
      
          1). 입력받은 위치를 바탕으로 TM좌표를 제공받는다.      
          2). TM좌표를 바탕으로 주변 측정소 정보를 제공받는다.


4. 구현 내용 설명  
    A.   프로그램 구조
![image](https://user-images.githubusercontent.com/65288601/99152304-5bd4be00-26e4-11eb-8026-70d94487203a.png) 

   B.   사용언어: Python 3.8.3, html, css

    C.   사용 API  
        1) 한국환경공단 대기오염정보 API  

           a.   API요청시 시간별 대기오염정도를 XML 포맷으로 전송해준다

           b.   미세먼지 농도를 나타내는 pm10Value와 pm25value 항목의 데이터를 가져와서 사용한다.    
           
        2) 한국환경공단 측정소정보 API 
        
           a.   API요청시 해당 정보를 XML 포맷으로 전송해준다.

           b.   입력한 위치의 기준좌표(TM좌표) 정보를 제공한다.

           c.   제공받은 TM좌표를 사용하여 주변 측정소 정보를 조회한다.


    D.   애플리케이션 시나리오

           a.   사용자로부터 위치정보를 입력 받는다.

               ①   현재자신의 위치

               ②   외출의 목적지

           b.   위치정보를 기반으로 측정소 정보 API에 요청을 보내서 관련 정보를 받는다.

               ①   읍/면/동 기준으로 주변 측정소를 조회하고, 측정소중에 가장 가까운 측정소를 찾는다.

           c.   가장 가까운 측정소를 기준으로 대기 오염정보를 조회한다.

               ①   대기 오염정보 중에서 미세먼지 농도인 PM10과 초미세먼지 농도인 PM2.5를 가져온다.

           d.   미세먼지 농도에 따라서 기준을 나눈다

               ①   미세먼지 농도

                    i) 좋음 (0~30), 보통 (~80), 나쁨(~150), 매우나쁨(151~)

               ②   초미세먼지 농도

                    i) 좋음 (0~15), 보통 (~35), 나쁨(~75), 매우나쁨(76~)

           e.   미세먼지 농도에 따라서 마스크 착용, 외출 권장의 정보를 표시한다

               ①   미세먼지 농도

                    미세먼지 농도가 나쁨 이상일시 KF80 이상의 마스크 착용을 권유하고
                    미세먼지 농도가 매우나쁨 일시 외출 자제를 추가로 권유한다.

               ②   초미세먼지 농도

                    초미세먼지 농도가 나쁨 이상일시 KF94 이상의 마스크 착용을 권유하고
                    초미세먼지 농도가 매우나쁨 일시 외출 자제를 추가로 권유한다.

               미세먼지 농도 초미세먼지 농도가 둘다 나쁨 이상일 때 KF94이상의 마스크 착용을 권장한다.

           f.   위와 같은 과정을 출발지와 목적지에 동시에 적용하여
                출발지에서는 마스크를 착용하여야 하고, 목적지에서는 착용하지 않아도 된다는 등의 알림을 출력한다.
                
5. 결론  

    a. 소스코드 합본  
    https://github.com/kimdaeseon/FLASK_SERVER

    b. 결과물   
    http://www.kimdaeseonpractice.gq/

    c. 사용 매뉴얼
        1. 출발지와 도착지의 도 / 시 / 구 / 동 의 정보를 입력한다.
           예) 경기도 용인시 기흥구 서천동
           예) 서울특별시 동대문구 회기동
        2. 약간의 시간을 기다린 후 결과를 확인한다.
![UI1](https://user-images.githubusercontent.com/65288601/99151383-1ca36e80-26de-11eb-85e9-f2df327b0082.PNG)  
![UI2](https://user-images.githubusercontent.com/65288601/99151385-1f05c880-26de-11eb-9b75-0c47104a3cf8.PNG)  
    d. 결론
        초기에 목표로 하였던 출발지와 목적지를 입력받고 미세먼지 농도를 알아내고 미세먼지 농도를 기준으로 외출자제, 마스크 착용 등의
        결과를 도출하는데 성공하였다. 미세먼지 농도의 기준은
        미세먼지의 경우 ~30 좋음, ~80 보통, ~ 150 나쁨, 151~ 매우나쁨
        초미세먼지의 경우 ~15 좋음, ~35 보통, ~75 나쁨, 76~ 매우나쁨
        이다.
        미세먼지의 상태가 나쁨 이상일 경우 마스크 착용을 권유하고 미세먼지 상태가 매우나쁨이면 외출 자제를 권유한다.
        초미세먼지의 농도가 나쁨 이상인 경우 kf94마스크 착용을 권유하고 초미세먼지 농도가 나쁨 이하고 미세먼지 농도가 
        나쁨 이상일 경우에는 kf80 마스크 착용을 권유한다.
        


6. 획득한 데이터의 원본
        a. 대기오염정보  ex)종로구 측정소
![대기오염정보](https://user-images.githubusercontent.com/65288601/99152855-d6eba380-26e7-11eb-8a7f-66e02ee67ad0.PNG)  
        b. TM 좌표 정보  ex) 혜화동
![TM좌표 정보](https://user-images.githubusercontent.com/65288601/99152934-6d1fc980-26e8-11eb-8803-a33a8f4262e3.PNG)  
        c. 측정소 정보  ex) 혜화동
![측정소 정보](https://user-images.githubusercontent.com/65288601/99152936-6ee98d00-26e8-11eb-9bc7-50bf7fa20ce4.PNG)


